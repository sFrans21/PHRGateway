@model IEnumerable<WebSystem.Models.VwVehicleList>

@{
    ViewData["Title"] = "List Kendaraan";
}

<link href="~/bootstrap-datepicker/css/bootstrap-datepicker.css" rel="stylesheet" />

<style>
    table.dataTable thead > tr > th {
        text-align: center;
        vertical-align: middle;
        background-color: white;
    }

    table.dataTable tbody tr > .dtfc-fixed-left, table.dataTable tbody tr > .dtfc-fixed-right {
        z-index: 0;
        background-color: white;
    }

    table.dataTable thead tr > .dtfc-fixed-left, table.dataTable thead tr > .dtfc-fixed-right, table.dataTable tfoot tr > .dtfc-fixed-left, table.dataTable tfoot tr.odd > .dtfc-fixed-right {
        background-color: white;
    }

    table.dataTable tbody tr.odd > .dtfc-fixed-right {
        z-index: 0;
        background-color: #eaeaea;
    }

/*    .btn-light {
        color: #212529;
        background-color: transparent !important;
        border-color: transparent !important;
    }*/

    table.dataTable tbody th, table.dataTable tbody td {
        padding: 1px !important;
        text-align: center;
    }

    dataTables_scroll {
        font-size: 9pt !important;
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: #eaeaea;
    }

    .table-striped tbody tr:nth-of-type(even) {
        background-color: #ffff;
    }
</style>

<partial name="_HomeButton" />

<div class="d-flex justify-content-center pt-2">
    <div class="card text-white bg-danger" style="width: 12rem;">
        <div class="card-body text-center" style="padding: 0.25rem;">
             @*<p class="card-text"><i class="fa fa-calendar"></i> @ViewBag.periodedetail</p>*@
            <a class="btn text-white" asp-controller="Periode" asp-action="Index" title="Ke Halaman Periode"><i class="fa fa-calendar"></i> @ViewBag.periodedetail</a>
        </div>
    </div>
</div>

<div class="text-center" style="padding-top:15px;">
    @*<h2>Hai, @ViewBag.Displayname</h2>*@
    <h3>Silahkan pilih kendaraan</h3>
</div>

<nav>
    <div class="nav nav-tabs nav-pills nav-justified flex-sm-row" id="nav-tab" role="tablist">
        @*<a class="nav-item nav-link" id="nav-rumah-tab" data-toggle="tab" href="/HouseHold/" role="tab" aria-controls="nav-rumah" aria-selected="true" idSpan="1" spanName="karbon di tempat tinggal"><i class="fa fa-house"></i> Rumah</a>
        <a class="nav-item nav-link active" id="nav-kendaraan-tab" data-toggle="tab" href="#nav-kendaraan" role="tab" aria-controls="nav-kendaraan" aria-selected="false" idSpan="1" spanName="karbon kendaraan"><i class="fa fa-car"></i> Kendaraan</a>
        <a class="nav-item nav-link" id="nav-serapan-tab" data-toggle="tab" href="#nav-serapan" role="tab" aria-controls="nav-serapan" aria-selected="false" idSpan="1" spanName="serapan karbon"><i class="fa fa-tree"></i> Serapan Karbon</a>
        <a class="nav-item nav-link" id="nav-certificate-tab" data-toggle="tab" href="#nav-certificate" role="tab" aria-controls="nav-certificate" aria-selected="false" idSpan="1" spanName="certificate"><i class="fa fa-book"></i> Sertifikat</a>*@
        <a class="nav-item nav-link disabled" asp-controller="Household" asp-action="Index"><img src="/assets/img/home_nav.png" style="width:25px;" /> Tempat Tinggal</a>
        <a class="nav-item nav-link active" asp-controller="Vehicle" asp-action="Index"><img src="/assets/img/vehicle_nav.png" style="width:25px;" /> Kendaraan</a>
        <a class="nav-item nav-link disabled" asp-controller="CarbonAbsorption" asp-action="Index"><img src="/assets/img/Tree_nav.png" style="width:25px;" /> Serapan Karbon</a>
    </div>
</nav>
<!--

    -->
@*kendaraan*@
<div class="tab-pane fade show active" id="nav-kendaraan" role="tabpanel" aria-labelledby="nav-kendaraan-tab">
    <div class="pt-4">
        <Center>  <a class="btn btn-light" asp-action="Index">Kembali</a> </Center>
        @*  <a class="btn btn-success mb-3" asp-controller="vehicle" asp-action="ListVehicle"><i class="fa fa-plus"></i> Tambah</a>
        *@  <table class="table table-striped table-bordered" id="vehicle">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.VehicleId)
                    </th>
                    <th>
                        @*@Html.DisplayNameFor(model => model.VehicleName)*@
                        Kendaraan
                    </th>
                    <th>
                        @*@Html.DisplayNameFor(model => model.VehicleType)*@
                        Tipe Kendaraan
                    </th>
                    @*   <th>
                    Bahan Bakar
                    </th>
                    <th>
                    Kapasitas
                    </th>
                    <th>
                    Mode Transportasi
                    </th>*@
                    <th>
                        @*@Html.DisplayNameFor(model => model.img)*@

                    </th>
                    <th>
                    </th>
                </tr>
            </thead>
        </table>
        <Center>  <a class="btn btn-light" asp-action="Index">Kembali</a> </Center>
    </div>
</div>


@section scripts{


    <script type="text/javascript">
        var UrlListVehicle = '@Url.Action("GetListVehicle", "Vehicle")';

        $(document).ready(function () {
            //$('div[id="nav-rumah"]').on('shown.bs.tab', function (e) {
            //    $.fn.dataTable.tables({ visible: true, api: true }).columns.adjust();
            //});

            $('table.table').dataTable({
                order: [1, 'asc'],
                ajax: {
                    url: UrlListVehicle,
                    type: 'GET',
                    dataType: 'json',
                    dataSrc: ''
                },
                pageLength: 25,
                columnDefs: [
                    { 'targets': [0], 'visible': false, 'searchable': false },
                    { 'width': '11%', 'targets': [4], 'orderable': false }
                ],
                responsive: true,
                columns: [
                    { data: 'vehicleId' },//0
                    { data: 'vehicleName' },//1
                    { data: 'vehicleType' },//6
                    //{ data: 'fuelName' },//2
                    //{ data: 'cubicalCentimeter' },//4
                    //{ data: 'transportationName' },//3
                    {
                        data: 'img',
                        render: function (data, type, row, meta) {
                            return '<img src="/assets/vehicle/' + row.img + '" alt="pic" width="100" />'
                        }
                    },//7
                    {
                        data: 'id',
                        render: function (data, type, row, meta) {
                            return '<a class="btn btn-success" asd="qq" style="margin-right:5px;" href="/vehicle/Create/' + row.vehicleId + '"><i class="fa fa-check"></i></a>'
                        } //5
                    },
                ],
            });
        });

        $(function () {
            var successMessage = '@TempData["SuccessMessage"]'
            if (successMessage != '')
                alertify.success(successMessage);
        });

        function Delete(id) {
            alertify.confirm('Carbon Calculator', 'Hapus data ?', function () {
                window.location.href = '@Url.Action("Delete", "Vehicle")/' + id;
            }, null)
        }</script>
}
